# -*- ruby -*-

# FIXME: need some variables:
#   * configuration.local_hosts
#   * configuration.local_networks
#   * configuration.local_domains
define_applicable_condition("Remote Network") do |condition|
  condition.description = "Check only remote network"

  condition.define_connect_checker do |child, host, address|
    host == "localhost"
  end

  condition.define_envelope_from_checker do |child, from|
    from =~ /@my-domain1.example.com\z/
  end
end
