# -*- ruby -*-

load("applicable-conditions/*.conf")

security.privilege_mode = true
controller.connection_spec = "inet:2929"
manager.connection_spec = "inet:10025"

define_milter("milter@10026") do |milter|
  milter.description = "a milter working at inet:10026@localhost"
  milter.connection_spec = "inet:10026@localhost"
#   milter.user_name = "nobody"
#   milter.command = "test-milter"
#   milter.command_options = ["-p", "inet:10026@localhost"]

#   milter.enabled = false
#   milter.add_applicable_condition("S25R")
#   milter.target_hosts << "external.example.com"
end

define_milter("milter@10027") do |milter|
  milter.connection_spec = "inet:10027@localhost"
#   milter.user_name = "nobody"
#   milter.command = "test-milter"
#   milter.command_options = ["-p", "inet:10027@localhost"]

#   milter.target_senders << /@external.example.com/
end

# define_milter("milter@10028") do |milter|
#   milter.connection_spec = "inet:10028@localhost"
# #   milter.user_name = "nobody"
# #   milter.command = "test-milter"
# #   milter.command_options = ["-p", "inet:10028@localhost"]

#   milter.target_recipients << /@external.example.com/
# end

# define_milter("milter@10029") do |milter|
#   milter.connection_spec = "inet:10029@localhost"
# #   milter.user_name = "nobody"
# #   milter.command = "test-milter"
# #   milter.command_options = ["-p", "inet:10029@localhost"]

#   milter.add_target_header("X-External", "Yes")
# end
