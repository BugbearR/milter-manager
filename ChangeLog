2008-09-30  Kouhei Sutou  <kou@cozmixng.org>

	* libmilter/libmilter-compatible.c,
	milter-client/milter-client-context.c,
	milter-client/milter-client.c, milter-core/milter-encoder.c:
	support reject with text.

	* data/collect-packet.rb: add a auto-packet collector.
	* data/: update log.

2008-09-29  Kouhei Sutou  <kou@cozmixng.org>

	* milter-core/milter-encoder.[ch]
	(milter_encoder_encode_reply_reply_code),
	test/core/test-encoder.c (test_encode_reply_reply_code): add.

	* data/: add actual data.

	* milter-client/milter-client.c,
	milter-client/milter-client-context.[ch]: use MilterWriter.

	* milter-core/milter-writer.[ch], test/core/test-writer.c,
	milter-core/milter-core.h: implement MilterWriter.

	* libmilter/libmilter-compatible.c: bind callbacks.

	* milter-client/milter-client.[ch]: support context setup hook.

	* libmilter/mfdef.h: define compatible definitions.

	* libmilter/libmilter-compatible.c: use context setup hook.

	* milter-core/Makefile.am, milter-client/Makefile.am: install
	main header. (milter-core.h and milter-client.h)

	* Makefile.am, configure.ac, libmilter.pc.in, libmilter/: add
	libmilter compatible layer.

	* milter-client/milter-client.[ch],
	milter-client/milter-client-context.[ch]: implement experimental
	server part.

	* test/client/test-client-context-callback.c: fix wrong assertion.

	* milter-core/milter-encoder.[ch], test/core/test-encoder.c:
	implement continue reply encoder.

	* milter-client/milter-client-context.[ch],
	test/client/test-client-context-data.c: support reply message.

2008-09-26  Kouhei Sutou  <kou@cozmixng.org>

	* milter-client/milter-client-context.c: cleanup.

	* milter-client/milter-client-context.[ch],
	test/client/test-client-context-data.c: add tests for parse error.

	* milter-client/milter-client-context.[ch],
	test/client/test-client-context-data.c: add partial extended code
	parser.

	* milter-client/milter-client-context.[ch],
	test/client/test-client-context-data.c: add private data accessors.

	* test/client/Makefile.am, test/client/test-client-context.c:
	test-client-context.c -> test-client-context-callback.c

2008-09-19  Kouhei Sutou  <kou@cozmixng.org>

	* test/client/test-client-context.c: use data-driven-test.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support macro on end-of-message hook.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support macro on body hook.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support macro on end-of-header hook.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support macro on header hook.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support macro on envelope-receipt
	hook.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support macro on envelope-from
	hook.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support macro on HELO hook.

	* milter-client/milter-client-context.[ch],
	test/client/test-client-context.c: support macro on connect hook.

	* test/client/test-client-context.c: add tests for IPv6 and UNIX
	domain socket case.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support abort hook.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support close hook.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support end of message hook.

	* milter-client/milter-client-context.c,
	milter-client/milter-client-marshalers.list,
	test/client/test-client-context.c: support body hook.

	* milter-client/milter-client-context.c,
	milter-client/milter-client-marshalers.list,
	test/client/test-client-context.c: support end of header hook.

	* milter-client/milter-client-context.c,
	milter-client/milter-client-marshalers.list,
	test/client/test-client-context.c: support header hook.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support envelope-receipt hook.

	* milter-client/milter-client-context.c,
	test/client/test-client-context.c: support envelope-from hook.

	* milter-client/milter-client-context.[ch],
	test/client/test-client-context.c: support HELO hook.

	* milter-client/, test/client/: support option negotiation hook.

	* milter-client/, test/client/: MilterClientHandler ->
	MilterClientContext.

	* /: start to implement MilterClientHandler.

2008-09-18  Kouhei Sutou  <kou@cozmixng.org>

	* milter-core/milter-encoder.[ch], test/core/test-encoder.c:
	support ABORT, QUIT, unknown command.

	* milter-core/milter-encoder.[ch], test/core/test-encoder.c:
	support body and end of message.

	* milter-core/milter-encoder.[ch], test/core/test-encoder.c:
	support end of header.

	* milter-core/milter-encoder.[ch], test/core/test-encoder.c:
	support HEADER.

	* milter-core/milter-encoder.[ch], test/core/test-encoder.c:
	support RCPT.

	* milter-core/milter-encoder.[ch], test/core/test-encoder.c:
	support MAIL.

	* milter-core/milter-encoder.[ch], test/core/test-encoder.c:
	support HELO.

	* milter-core/milter-encoder.c (milter_encoder_encode_connect): cleanup.

	* milter-core/milter-encoder.[ch], test/core/test-encoder.c:
	support connect.

	* milter-core/, test/: remove MilterContextType.
	* milter-core/milter-encoder.[ch], test/core/test-encoder.c:
	support define macro.

	* test/core/test-encoder.c: add a test for option is NULL case.

	* milter-core/, test/: use gchar ** and gsize * instead of GString *
	to receive encoded packet.

	* miter-code/, test/: add MilterEncoder.

	* /: parser -> decoder.

	* milter-core/milter-parser.c, test/core/test-milter.c: improve
	error handling.

	* milter-core/milter-parser.c, test/core/test-milter.c: support
	OPTION NEGOTIATION.

2008-09-17  Kouhei Sutou  <kou@cozmixng.org>

	* test/core/test-option.c: add tests for accessors of
	MilterActionFlags and MilterStepFlags.

	* milter-core/milter-option.[ch], test/core/test-milter.c: support
	properties.

	* milter-core/milter-option.[ch], test/core/test-milter.c: add
	MilterOption.

	* milter-core/milter-parser.[ch], test/core/test-parser.c: improve
	error handling.

	* milter-core/milter-parser.c: cleanup.

2008-09-16  Kouhei Sutou  <kou@cozmixng.org>

	* milter-core/milter-parser.[ch], test/core/test-parser.c: improve
	error handling.

	* /: McParser -> MilterParser.
	* milter-core/: add.
	* test/: client -> core.

	* milter-client/mc-parser.[ch], test/client/test-mc-parser.c:
	support UNKNOWN command.

	* milter-client/mc-parser.[ch],	test/client/test-mc-parser.c:
	support QUIT command.

	* test/client/test-mc-parser.c: support ABORT command.

	* milter-client/mc-parser.[ch], milter-client/mc-marshalers.list,
	test/client/test-mc-parser.c: support END OF MESSAGE command.

	* milter-client/mc-parser.[ch], milter-client/mc-marshalers.list,
	test/client/test-mc-parser.c: support BODY command.

	* milter-client/mc-parser.[ch], milter-client/mc-marshalers.list,
	test/client/test-mc-parser.c: support END OF HEADER command.

	* milter-client/mc-parser.[ch], milter-client/mc-marshalers.list,
	test/client/test-mc-parser.c: support HEADER command.

2008-09-12  Kouhei Sutou  <kou@cozmixng.org>

	* milter-client/mc-parser.[ch], test/client/test-mc-parser.c:
	support RCPT command.

	* milter-client/mc-parser.[ch], test/client/test-mc-parser.c:
	support MAIL command.

	* milter-client/mc-parser.[ch], test/client/test-mc-parser.c:
	support HELO command.

	* milter-client/mc-parser.[ch], test/client/test-mc-parser.c:
	support CONNECT command but too duty!.

	* test/client/test-mc-parser.c: fix wrong test data.

	* milter-client/mc-parser.[ch]: support define macro on header context.

2008-09-11  Kouhei Sutou  <kou@cozmixng.org>

	* configure.ac: require Cutter >= 1.0.5.

	* milter-client/mc-parser.[ch], test/client/test-mc-parser.c:
	support define macro on HELO/MAIL context.

	* test/client/test-mc-parser.c (test_parse_define_macro): use data
	driven test style.

2008-09-10  Kouhei Sutou  <kou@cozmixng.org>

	* milter-client/mc-parser.[ch], test/client/test-mc-parser.c:
	partially implement define macro command.

	* milter-client/: add enum-types and marshalers.

2008-09-08  Kouhei Sutou  <kou@cozmixng.org>

	* milter-client/mc-parser.[ch] (mc_parser_parse),
	test/client/test-mc-parser.c: add command length error handling.

2008-09-05  Kouhei Sutou  <kou@cozmixng.org>

	* milter-client/, test/client/: add.

	* data/milter-packet.txt: add a sample milter packet.

2008-09-03  Kouhei Sutou  <kou@cozmixng.org>

	* Makefile.am: remove needless command.

	* ./: add milter-client/.

2008-09-01  Kouhei Sutou  <kou@cozmixng.org>

	* ./: start.

